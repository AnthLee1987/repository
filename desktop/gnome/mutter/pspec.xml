<?xml version="1.0" ?>
<!DOCTYPE PISI SYSTEM "http://www.solusos.com/standard/pisi-spec.dtd">
<PISI>
    <Source>
        <Name>mutter</Name>
        <Homepage>https://wiki.gnome.org/GnomeShell</Homepage>
        <Packager>
            <Name>Ikey Doherty</Name>
            <Email>ikey.doherty@gmail.com</Email>
        </Packager>
        <Summary>Gnome Shell Window Manager</Summary>
        <Description>Gnome Shell compositing window manager</Description>
        <License>GPLv2+</License>
        <Archive sha1sum="acf1968eee1b969725c1b430f2b909a26f8b3c5a" type="tarxz">http://ftp.gnome.org/pub/GNOME/sources/mutter/3.14/mutter-3.14.0.tar.xz</Archive>

        <BuildDependencies>
            <Dependency type="pkgconfig">clutter-1.0</Dependency>
            <Dependency type="pkgconfig">gsettings-desktop-schemas</Dependency>
            <Dependency type="pkgconfig">gnome-desktop-3.0</Dependency>
            <Dependency type="pkgconfig">upower-glib</Dependency>
            <Dependency type="pkgconfig">gtk+-3.0</Dependency>
            <Dependency type="pkgconfig">libcanberra-gtk3</Dependency>
            <Dependency type="pkgconfig">sm</Dependency>
            <Dependency type="pkgconfig">xcursor</Dependency>
            <Dependency type="pkgconfig">libstartup-notification-1.0</Dependency>
            <Dependency type="pkgconfig">xkbfile</Dependency>
            <Dependency type="pkgconfig">xkeyboard-config</Dependency>
            <Dependency type="pkgconfig">xfixes</Dependency>
            <Dependency>zenity</Dependency>
        </BuildDependencies>

        <Patches>
            <Patch level="1">0001-schema-Do-not-use-Super_L-as-its-bound-to-Budgie.patch</Patch>

            <!-- Going upstream //-->
            <Patch level="1">0001-backends-Include-Xfixes-for-cursor-events-and-manipu.patch</Patch>

            <!-- From git.. //-->
            <Patch level="1">0001-window-Fix-titlebar_is_onscreen-test.patch</Patch>
            <Patch level="1">0002-constraints-Fix-update_onscreen_requirements.patch</Patch>
            <Patch level="1">0003-keybindings-Do-not-depend-on-linux-headers-for-above.patch</Patch>
            <Patch level="1">0004-keybindings-Fix-indentation.patch</Patch>
            <Patch level="1">0005-Updated-Telugu-translation.patch</Patch>
            <Patch level="1">0006-Updated-Serbian-translation.patch</Patch>
            <!--<Patch level="1">0007-test-runner-make-test_case_wait-wait-for-queued-work.patch</Patch>
            <Patch level="1">0008-test-runner-represent-the-guard-window-as-for-assert.patch</Patch>
            <Patch level="1">0009-tests-Add-minimize-unminimize-commands.patch</Patch>
            <Patch level="1">0010-Add-a-test-for-stacking-vs.-minimization.patch</Patch>//-->
            <Patch level="1">0011-Fix-stacking-of-the-guard-window.patch</Patch>
            <Patch level="1">0012-keybindings-Do-a-breadth-first-search-in-our-keysym-.patch</Patch>
            <Patch level="1">0013-wayland-Send-accurate-capabilities.patch</Patch>
            <!--<Patch level="1">0014-Support-for-hardware-cursor-sizes-other-than-64x64-o.patch</Patch>//-->
            <Patch level="1">0015-Updated-Bulgarian-translation.patch</Patch>
            <Patch level="1">0016-Updated-Bengali-India-translation.patch</Patch>
            <Patch level="1">0017-window-Be-more-careful-when-setting-initial-workspac.patch</Patch>
            <Patch level="1">0018-window-Always-set-workspace-state-while-constructing.patch</Patch>
            <Patch level="1">0019-monitor-manager-Make-sure-to-emit-PropertiesChanged-.patch</Patch>
            <Patch level="1">0020-window-Fix-another-case-of-uninitialized-workspace-s.patch</Patch>
            <Patch level="1">0021-workspace-Fix-typo-in-META_IS_WORKSPACE-macro.patch</Patch>
            <Patch level="1">0022-window-Fix-crash-when-mapping-sticky-window.patch</Patch>
            <Patch level="1">0023-window-Fix-corner-case-in-set_demands_attention.patch</Patch>
            <Patch level="1">0024-window-Fix-typo.patch</Patch>
        </Patches>
    </Source>

    <Package>
        <Name>mutter</Name>
        <Files>
            <Path fileType="executable">/usr/bin</Path>
            <Path fileType="executable">/usr/libexec/mutter-restart-helper</Path>
            <Path fileType="library">/usr/lib/lib*.so.*</Path>
            <Path fileType="library">/usr/lib/mutter</Path>
            <Path fileType="data">/usr/share/glib-2.0/schemas</Path>
            <Path fileType="data">/usr/share/gnome-control-center</Path>
            <Path fileType="data">/usr/share/GConf</Path>
            <Path fileType="localedata">/usr/share/locale</Path>
            <Path fileType="man">/usr/share/man</Path>
            <Path fileType="data">/usr/share/gnome/wm-properties</Path>
            <Path fileType="data">/usr/share/applications</Path>
            <Path fileType="doc">/usr/share/doc</Path>
        </Files>
        <RuntimeDependencies>
            <Dependency>zenity</Dependency>
        </RuntimeDependencies>
    </Package>

    <Package>
        <Name>mutter-devel</Name>
        <Summary>Development files for mutter</Summary>
        <Description>Development files for mutter</Description>
        <Files>
            <Path fileType="header">/usr/include</Path>
            <Path fileType="library">/usr/lib/lib*.so</Path>
            <Path fileType="data">/usr/lib/pkgconfig</Path>
        </Files>
        <RuntimeDependencies>
            <Dependency release="current">mutter</Dependency>
        </RuntimeDependencies>
    </Package>

    <Package>
        <Name>mutter-docs</Name>
        <Summary>API Documentation for mutter</Summary>
        <Description>API Documentation for mutter</Description>
        <Files>
            <Path fileType="doc">/usr/share/gtk-doc</Path>
        </Files>
        <RuntimeDependencies>
            <Dependency release="current">mutter-devel</Dependency>
        </RuntimeDependencies>
    </Package>

    <History>
        <Update release="7">
            <Date>09-27-2014</Date>
            <Version>3.14.0</Version>
            <Comment>Sync with git for latest fixes</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@evolve-os.com</Email>
        </Update>

        <Update release="6">
            <Date>09-26-2014</Date>
            <Version>3.14.0</Version>
            <Comment>Upgrade for GNOME 3.14</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@evolve-os.com</Email>
        </Update>

        <Update release="5">
            <Date>08-03-2014</Date>
            <Version>3.10.1</Version>
            <Comment>Bump to rebuild against new libraries</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey.doherty@gmail.com</Email>
        </Update>

        <Update release="4">
            <Date>07-11-2014</Date>
            <Version>3.10.1</Version>
            <Comment>Stop using Super_L for overlay binding</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey.doherty@gmail.com</Email>
        </Update>

        <Update release="3">
            <Date>06-15-2014</Date>
            <Version>3.10.1</Version>
            <Comment>Update to 3.10.1 for Budgie</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey.doherty@gmail.com</Email>
        </Update>

        <Update release="2">
            <Date>06-15-2014</Date>
            <Version>3.10.0.1</Version>
            <Comment>Fix splitting, use pkgconfig+auto-deps</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey.doherty@gmail.com</Email>
        </Update>

        <Update release="1">
            <Date>10-01-2013</Date>
            <Version>3.10.0.1</Version>
            <Comment>Add mutter to repositories</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solusos.com</Email>
        </Update>
    </History>
</PISI>
