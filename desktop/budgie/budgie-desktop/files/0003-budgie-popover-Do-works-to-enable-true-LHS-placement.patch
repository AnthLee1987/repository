From 718a5562ffe3ac9290c423ad9203ee5eb96ca9dd Mon Sep 17 00:00:00 2001
From: Ikey Doherty <ikey.doherty@gmail.com>
Date: Mon, 23 Jun 2014 13:28:46 +0100
Subject: [PATCH 03/22] budgie-popover: Do works to enable true LHS placement
 of menu

---
 panel/budgie-panel.c          |  2 +-
 panel/common/budgie-popover.c | 10 ++++++----
 2 files changed, 7 insertions(+), 5 deletions(-)

diff --git a/panel/budgie-panel.c b/panel/budgie-panel.c
index d27af05..fd28ade 100644
--- a/panel/budgie-panel.c
+++ b/panel/budgie-panel.c
@@ -160,7 +160,7 @@ static void budgie_panel_init(BudgiePanel *self)
         menu = menu_applet_new();
         self->menu = menu;
         gtk_box_pack_start(GTK_BOX(layout), menu, FALSE, FALSE, 0);
-        g_object_set(menu, "margin-left", 4+11, NULL);
+        g_object_set(menu, "margin-left", 0, NULL);
 
         /* Add a tasklist to the panel on x11 */
         if (self->x11) {
diff --git a/panel/common/budgie-popover.c b/panel/common/budgie-popover.c
index 7d781ce..cba6f3e 100644
--- a/panel/common/budgie-popover.c
+++ b/panel/common/budgie-popover.c
@@ -358,13 +358,15 @@ void budgie_popover_present(BudgiePopover *self,
         if (rx >= our_alloc.width) {
                 rx = our_alloc.width - 20;
         }
-        if (rx <= 20) {
-                rx = 20;
-        }
+
+        /* TODO: Always attempt to position ourselves centered above
+         * the widget, work out offset and place tail accordingly
+         * Currently this works fine for the LHS-menu, but will need
+         * updating when we make this reusable for the aggregate menu */
         self->widg_x = rx;
 
 
-        gtk_window_move(GTK_WINDOW(self), tx-11, ty);
+        gtk_window_move(GTK_WINDOW(self), tx, ty);
         gtk_widget_show_all(GTK_WIDGET(self));
         if (event) {
                 if (event->type == GDK_BUTTON_PRESS) {
-- 
1.9.1

