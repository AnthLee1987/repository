From 778007e63f15d052def763535ab1669efda7d951 Mon Sep 17 00:00:00 2001
From: Ikey Doherty <ikey.doherty@gmail.com>
Date: Sun, 20 Jul 2014 13:30:30 +0100
Subject: [PATCH 5/8] panel: Fix up previous half-arsed commit

---
 panel/BudgiePanel.vala | 5 ++---
 panel/panelconfig.vapi | 2 +-
 2 files changed, 3 insertions(+), 4 deletions(-)

diff --git a/panel/BudgiePanel.vala b/panel/BudgiePanel.vala
index 9236995..633e060 100644
--- a/panel/BudgiePanel.vala
+++ b/panel/BudgiePanel.vala
@@ -30,10 +30,9 @@ public class Panel : Gtk.Window
     // Simply for the colourisation of the panel
     Wnck.Screen wnck_screen;
 
-    /* Totally temporary - we'll extend to user plugins in the end and
-     * ensure these directories are correct at compile time */
+    // Defined at compile time, check panelconfig.h and panelconfig.vapi
     static string module_directory = MODULE_DIRECTORY;
-    static string module_data_directory = "/usr/share/budgie-panel/plugins";
+    static string module_data_directory = MODULE_DATA_DIRECTORY;
 
     public Panel()
     {
diff --git a/panel/panelconfig.vapi b/panel/panelconfig.vapi
index 672901b..af91072 100644
--- a/panel/panelconfig.vapi
+++ b/panel/panelconfig.vapi
@@ -1,4 +1,4 @@
-/* budgie-1.0.vapi generated by valac 0.22.1, do not modify. */
+/* Injects compile time defines into BudgiePanel.vala */
 
 namespace Budgie {
 	[CCode (cheader_filename = "panelconfig.h")]
-- 
1.9.1

